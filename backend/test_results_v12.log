============================= test session starts ==============================
platform darwin -- Python 3.14.0, pytest-8.0.2, pluggy-1.6.0 -- /Library/Frameworks/Python.framework/Versions/3.14/bin/python3
cachedir: .pytest_cache
rootdir: /Users/galindoasc/keikichi_logistics_web/backend
plugins: asyncio-0.23.8, anyio-4.12.0
asyncio: mode=Mode.STRICT
collecting ... collected 18 items

tests/test_system_flows.py::TestSystemFlows::test_1_health_check ERROR   [  5%]
tests/test_system_flows.py::TestSystemFlows::test_2_register_client ERROR [ 11%]
tests/test_system_flows.py::TestSystemFlows::test_3_login_client ERROR   [ 16%]
tests/test_system_flows.py::TestSystemFlows::test_4_get_me ERROR         [ 22%]
tests/test_system_flows.py::TestSystemFlows::test_5_update_profile ERROR [ 27%]
tests/test_system_flows.py::TestSystemFlows::test_6_create_trip ERROR    [ 33%]
tests/test_system_flows.py::TestSystemFlows::test_7_list_trips ERROR     [ 38%]
tests/test_system_flows.py::TestSystemFlows::test_8_get_trip_detail ERROR [ 44%]
tests/test_system_flows.py::TestSystemFlows::test_9_update_trip_status ERROR [ 50%]
tests/test_system_flows.py::TestSystemFlows::test_10_bulk_delete_trips_logic_check ERROR [ 55%]
tests/test_system_flows.py::TestSystemFlows::test_11_create_reservation ERROR [ 61%]
tests/test_system_flows.py::TestSystemFlows::test_12_cancel_reservation ERROR [ 66%]
tests/test_system_flows.py::TestSystemFlows::test_13_admin_list_reservations ERROR [ 72%]
tests/test_system_flows.py::TestSystemFlows::test_14_delete_reservation ERROR [ 77%]
tests/test_system_flows.py::TestSystemFlows::test_15_get_system_config ERROR [ 83%]
tests/test_system_flows.py::TestSystemFlows::test_16_update_exchange_rate ERROR [ 88%]
tests/test_system_flows.py::TestSystemFlows::test_17_upload_document ERROR [ 94%]
tests/test_system_flows.py::TestSystemFlows::test_18_list_my_documents ERROR [100%]
tests/test_system_flows.py::TestSystemFlows::test_18_list_my_documents ERROR [100%]

==================================== ERRORS ====================================
____________ ERROR at setup of TestSystemFlows.test_1_health_check _____________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b67a520>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
___________ ERROR at setup of TestSystemFlows.test_2_register_client ___________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b67be10>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
____________ ERROR at setup of TestSystemFlows.test_3_login_client _____________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b97cef0>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_______________ ERROR at setup of TestSystemFlows.test_4_get_me ________________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b9e8490>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
___________ ERROR at setup of TestSystemFlows.test_5_update_profile ____________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b9e8d10>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_____________ ERROR at setup of TestSystemFlows.test_6_create_trip _____________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10ba24450>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_____________ ERROR at setup of TestSystemFlows.test_7_list_trips ______________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10ba24c50>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
___________ ERROR at setup of TestSystemFlows.test_8_get_trip_detail ___________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10ba4c500>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_________ ERROR at setup of TestSystemFlows.test_9_update_trip_status __________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10ba4d4f0>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
___ ERROR at setup of TestSystemFlows.test_10_bulk_delete_trips_logic_check ____

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b962eb0>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_________ ERROR at setup of TestSystemFlows.test_11_create_reservation _________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b963310>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_________ ERROR at setup of TestSystemFlows.test_12_cancel_reservation _________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b832d00>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
______ ERROR at setup of TestSystemFlows.test_13_admin_list_reservations _______

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b9f7c50>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_________ ERROR at setup of TestSystemFlows.test_14_delete_reservation _________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10baf4290>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_________ ERROR at setup of TestSystemFlows.test_15_get_system_config __________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b9a6af0>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
________ ERROR at setup of TestSystemFlows.test_16_update_exchange_rate ________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b9a6e60>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
__________ ERROR at setup of TestSystemFlows.test_17_upload_document ___________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b9ab930>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
_________ ERROR at setup of TestSystemFlows.test_18_list_my_documents __________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x10b9abd90>

    @pytest.fixture(autouse=True)
    def mock_notification_service(monkeypatch):
        from unittest.mock import AsyncMock
        from app.services.notification_service import notification_service
    
        # Mock all notification methods to avoid DB calls (which fail with sqlite :memory: due to separate sessions)
        monkeypatch.setattr(notification_service, "notify_trip_created", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_trip_updated", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_admins", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_account_verified", AsyncMock())
        monkeypatch.setattr(notification_service, "notify_reservation_created", AsyncMock())
>       monkeypatch.setattr(notification_service, "notify_reservation_payed", AsyncMock())
E       AttributeError: <app.services.notification_service.NotificationService object at 0x10973c050> has no attribute 'notify_reservation_payed'

tests/conftest.py:190: AttributeError
________ ERROR at teardown of TestSystemFlows.test_18_list_my_documents ________

self = <sqlalchemy.engine.base.Connection object at 0x10b969d10>
dialect = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteDialect_aiosqlite object at 0x10b3f65d0>
context = <sqlalchemy.dialects.sqlite.aiosqlite.SQLiteExecutionContext_aiosqlite object at 0x10baf6a50>
statement = <sqlalchemy.dialects.sqlite.base.SQLiteDDLCompiler object at 0x10b9abf70>
parameters = [()]

    def _exec_single_context(
        self,
        dialect: Dialect,
        context: ExecutionContext,
        statement: Union[str, Compiled],
        parameters: Optional[_AnyMultiExecuteParams],
    ) -> CursorResult[Any]:
        """continue the _execute_context() method for a single DBAPI
        cursor.execute() or cursor.executemany() call.
    
        """
        if dialect.bind_typing is BindTyping.SETINPUTSIZES:
            generic_setinputsizes = context._prepare_set_input_sizes()
    
            if generic_setinputsizes:
                try:
                    dialect.do_set_input_sizes(
                        context.cursor, generic_setinputsizes, context
                    )
                except BaseException as e:
                    self._handle_dbapi_exception(
                        e, str(statement), parameters, None, context
                    )
    
        cursor, str_statement, parameters = (
            context.cursor,
            context.statement,
            context.parameters,
        )
    
        effective_parameters: Optional[_AnyExecuteParams]
    
        if not context.executemany:
            effective_parameters = parameters[0]
        else:
            effective_parameters = parameters
    
        if self._has_events or self.engine._has_events:
            for fn in self.dispatch.before_cursor_execute:
                str_statement, effective_parameters = fn(
                    self,
                    cursor,
                    str_statement,
                    effective_parameters,
                    context,
                    context.executemany,
                )
    
        if self._echo:
            self._log_info(str_statement)
    
            stats = context._get_cache_stats()
    
            if not self.engine.hide_parameters:
                self._log_info(
                    "[%s] %r",
                    stats,
                    sql_util._repr_params(
                        effective_parameters,
                        batches=10,
                        ismulti=context.executemany,
                    ),
                )
            else:
                self._log_info(
                    "[%s] [SQL parameters hidden due to hide_parameters=True]",
                    stats,
                )
    
        evt_handled: bool = False
        try:
            if context.execute_style is ExecuteStyle.EXECUTEMANY:
                effective_parameters = cast(
                    "_CoreMultiExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_executemany:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_executemany(
                        cursor,
                        str_statement,
                        effective_parameters,
                        context,
                    )
            elif not effective_parameters and context.no_parameters:
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute_no_params:
                        if fn(cursor, str_statement, context):
                            evt_handled = True
                            break
                if not evt_handled:
                    self.dialect.do_execute_no_params(
                        cursor, str_statement, context
                    )
            else:
                effective_parameters = cast(
                    "_CoreSingleExecuteParams", effective_parameters
                )
                if self.dialect._has_events:
                    for fn in self.dialect.dispatch.do_execute:
                        if fn(
                            cursor,
                            str_statement,
                            effective_parameters,
                            context,
                        ):
                            evt_handled = True
                            break
                if not evt_handled:
>                   self.dialect.do_execute(
                        cursor, str_statement, effective_parameters, context
                    )

/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1967: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py:951: in do_execute
    cursor.execute(statement, parameters)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:180: in execute
    self._adapt_connection._handle_exception(error)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:340: in _handle_exception
    raise error
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:162: in execute
    self.await_(_cursor.execute(operation, parameters))
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/cursor.py:40: in execute
    await self._execute(self._cursor.execute, sql, parameters)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/cursor.py:32: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/core.py:122: in _execute
    return await future
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Connection(Thread-1, started daemon 6187216896)>

    def run(self) -> None:
        """
        Execute function calls on a separate thread.
    
        :meta private:
        """
        while True:
            # Continues running until all queue items are processed,
            # even after connection is closed (so we can finalize all
            # futures)
    
            tx_item = self._tx.get()
            if tx_item is _STOP_RUNNING_SENTINEL:
                break
    
            future, function = tx_item
    
            try:
                LOG.debug("executing %s", function)
>               result = function()
E               sqlite3.OperationalError: no such table: main.users

/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/core.py:105: OperationalError

The above exception was the direct cause of the following exception:

    def finalizer() -> None:
        """Yield again, to finalize."""
    
        async def async_finalizer() -> None:
            try:
                await gen_obj.__anext__()
            except StopAsyncIteration:
                pass
            else:
                msg = "Async generator fixture didn't stop."
                msg += "Yield only once."
                raise ValueError(msg)
    
>       event_loop.run_until_complete(async_finalizer())

/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:345: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/asyncio/base_events.py:719: in run_until_complete
    return future.result()
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:337: in async_finalizer
    await gen_obj.__anext__()
tests/conftest.py:80: in setup_database
    await conn.run_sync(Base.metadata.drop_all)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/ext/asyncio/engine.py:888: in run_sync
    return await greenlet_spawn(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/schema.py:5956: in drop_all
    bind._run_ddl_visitor(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:2459: in _run_ddl_visitor
    ).traverse_single(element)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/visitors.py:661: in traverse_single
    return meth(obj, **kw)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py:1142: in visit_metadata
    self.traverse_single(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/visitors.py:661: in traverse_single
    return meth(obj, **kw)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py:1209: in visit_table
    DropTable(table)._invoke_with(self.connection)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py:321: in _invoke_with
    return bind.execute(self)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1419: in execute
    return meth(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/sql/ddl.py:187: in _execute_on_connection
    return connection._execute_ddl(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1530: in _execute_ddl
    ret = self._execute_context(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1846: in _execute_context
    return self._exec_single_context(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/base.py:1967: in _exec_single_context
    self.dialect.do_execute(
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/engine/default.py:951: in do_execute
    cursor.execute(statement, parameters)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:180: in execute
    self._adapt_connection._handle_exception(error)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:340: in _handle_exception
    raise error
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/dialects/sqlite/aiosqlite.py:162: in execute
    self.await_(_cursor.execute(operation, parameters))
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/sqlalchemy/util/_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/cursor.py:40: in execute
    await self._execute(self._cursor.execute, sql, parameters)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/cursor.py:32: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/core.py:122: in _execute
    return await future
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <Connection(Thread-1, started daemon 6187216896)>

    def run(self) -> None:
        """
        Execute function calls on a separate thread.
    
        :meta private:
        """
        while True:
            # Continues running until all queue items are processed,
            # even after connection is closed (so we can finalize all
            # futures)
    
            tx_item = self._tx.get()
            if tx_item is _STOP_RUNNING_SENTINEL:
                break
    
            future, function = tx_item
    
            try:
                LOG.debug("executing %s", function)
>               result = function()
E               sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: main.users
E               [SQL: 
E               DROP TABLE trips]
E               (Background on this error at: https://sqlalche.me/e/20/e3q8)

/Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/aiosqlite/core.py:105: OperationalError
=============================== warnings summary ===============================
app/schemas/auth.py:45
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/auth.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserOut(BaseModel):

../../../../Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py:211: 273 warnings
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/routing.py:211: DeprecationWarning: 'asyncio.iscoroutinefunction' is deprecated and slated for removal in Python 3.16; use inspect.iscoroutinefunction() instead
    is_coroutine = asyncio.iscoroutinefunction(dependant.call)

app/schemas/user.py:9
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/user.py:9: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserBase(BaseModel):

app/schemas/user.py:31
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/user.py:31: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserResponse(UserBase):

app/schemas/user.py:77
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/user.py:77: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('email', 'phone')

../../../../Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi_mail/schemas.py:91
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi_mail/schemas.py:91: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

app/schemas/trip.py:70
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/trip.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TripOut(TripBase):

app/schemas/space.py:10
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/space.py:10: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class SpaceBase(BaseModel):

app/schemas/reservation.py:27
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/reservation.py:27: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class HoldSpacesResponse(BaseModel):

app/schemas/reservation.py:64
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/reservation.py:64: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class LoadItemResponse(LoadItemCreate):

app/schemas/reservation.py:152
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/reservation.py:152: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ReservationSpaceDetail(BaseModel):

app/schemas/reservation.py:162
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/reservation.py:162: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ReservationTripDetail(BaseModel):

app/schemas/reservation.py:178
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/reservation.py:178: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ReservationResponse(BaseModel):

app/schemas/reservation.py:243
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/reservation.py:243: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ReservationListItem(BaseModel):

app/schemas/label_price.py:18
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/label_price.py:18: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class LabelPriceOut(LabelPriceBase):

app/api/v1/system_config.py:28
  /Users/galindoasc/keikichi_logistics_web/backend/app/api/v1/system_config.py:28: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class SystemConfigResponse(SystemConfigBase):

app/schemas/client_document.py:24
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/client_document.py:24: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ClientDocumentOut(ClientDocumentBase):

app/schemas/catalog.py:17
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/catalog.py:17: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Product(ProductBase):

app/schemas/catalog.py:35
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/catalog.py:35: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Unit(UnitBase):

app/schemas/notification.py:25
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/notification.py:25: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class NotificationResponse(NotificationBase):

app/schemas/fleet.py:22
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/fleet.py:22: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FleetDriverOut(FleetDriverBase):

app/schemas/fleet.py:49
  /Users/galindoasc/keikichi_logistics_web/backend/app/schemas/fleet.py:49: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FleetVehicleOut(FleetVehicleBase):

app/main.py:42
  /Users/galindoasc/keikichi_logistics_web/backend/app/main.py:42: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

../../../../Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py:4495
../../../../Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py:4495
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/fastapi/applications.py:4495: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

app/main.py:82
  /Users/galindoasc/keikichi_logistics_web/backend/app/main.py:82: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("shutdown")

../../../../Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:169: 617 warnings
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:169: DeprecationWarning: 'asyncio.iscoroutinefunction' is deprecated and slated for removal in Python 3.16; use inspect.iscoroutinefunction() instead
    return asyncio.iscoroutinefunction(obj) or inspect.isasyncgenfunction(obj)

../../../../Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:433: 18 warnings
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:433: DeprecationWarning: 'asyncio.iscoroutinefunction' is deprecated and slated for removal in Python 3.16; use inspect.iscoroutinefunction() instead
    return asyncio.iscoroutinefunction(func)

tests/test_system_flows.py::TestSystemFlows::test_1_health_check
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:1005: DeprecationWarning: 'asyncio.get_event_loop_policy' is deprecated and slated for removal in Python 3.16
    return asyncio.get_event_loop_policy()

tests/test_system_flows.py::TestSystemFlows::test_1_health_check
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:662: DeprecationWarning: 'asyncio.get_event_loop_policy' is deprecated and slated for removal in Python 3.16
    old_loop_policy = asyncio.get_event_loop_policy()

tests/test_system_flows.py::TestSystemFlows::test_1_health_check
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:667: DeprecationWarning: 'asyncio.set_event_loop_policy' is deprecated and slated for removal in Python 3.16
    asyncio.set_event_loop_policy(policy)

tests/test_system_flows.py::TestSystemFlows::test_18_list_my_documents
  <sys>:0: SAWarning: Can't sort tables for DROP; an unresolvable foreign key dependency exists between tables: client_documents, reservations, trips, users; and backend does not support ALTER.  To restore at least a partial sort, apply use_alter=True to ForeignKey and ForeignKeyConstraint objects involved in the cycle to mark these as known cycles that will be ignored.

tests/test_system_flows.py::TestSystemFlows::test_18_list_my_documents
  /Library/Frameworks/Python.framework/Versions/3.14/lib/python3.14/site-packages/pytest_asyncio/plugin.py:671: DeprecationWarning: 'asyncio.set_event_loop_policy' is deprecated and slated for removal in Python 3.16
    asyncio.set_event_loop_policy(old_loop_policy)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR tests/test_system_flows.py::TestSystemFlows::test_1_health_check - Attr...
ERROR tests/test_system_flows.py::TestSystemFlows::test_2_register_client - A...
ERROR tests/test_system_flows.py::TestSystemFlows::test_3_login_client - Attr...
ERROR tests/test_system_flows.py::TestSystemFlows::test_4_get_me - AttributeE...
ERROR tests/test_system_flows.py::TestSystemFlows::test_5_update_profile - At...
ERROR tests/test_system_flows.py::TestSystemFlows::test_6_create_trip - Attri...
ERROR tests/test_system_flows.py::TestSystemFlows::test_7_list_trips - Attrib...
ERROR tests/test_system_flows.py::TestSystemFlows::test_8_get_trip_detail - A...
ERROR tests/test_system_flows.py::TestSystemFlows::test_9_update_trip_status
ERROR tests/test_system_flows.py::TestSystemFlows::test_10_bulk_delete_trips_logic_check
ERROR tests/test_system_flows.py::TestSystemFlows::test_11_create_reservation
ERROR tests/test_system_flows.py::TestSystemFlows::test_12_cancel_reservation
ERROR tests/test_system_flows.py::TestSystemFlows::test_13_admin_list_reservations
ERROR tests/test_system_flows.py::TestSystemFlows::test_14_delete_reservation
ERROR tests/test_system_flows.py::TestSystemFlows::test_15_get_system_config
ERROR tests/test_system_flows.py::TestSystemFlows::test_16_update_exchange_rate
ERROR tests/test_system_flows.py::TestSystemFlows::test_17_upload_document - ...
ERROR tests/test_system_flows.py::TestSystemFlows::test_18_list_my_documents
ERROR tests/test_system_flows.py::TestSystemFlows::test_18_list_my_documents
======================= 938 warnings, 19 errors in 0.24s =======================
